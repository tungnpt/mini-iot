<div class="container">
  <button class="pull-right" type="button" class="btn btn-primary" style="margin: 20px 0" routerLink="/device/add">Thêm thiết bị</button>
  <div style="margin-bottom: 10px">Danh sách thiết bị</div>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">STT</th>
        <th scope="col">Device Name</th>
        <th scope="col">Description</th>
        <th scope="col">Operation</th>
        <th scope="col">Option</th>
      </tr>
    </thead>
    <tbody *ngFor="let device of devices; let i = index">
      <tr>
        <th scope="row">{{i+1}}</th>
        <td>{{device.deviceName}}</td>
        <td>{{device.deviceDescription}}</td>
        <td></td>
        <td>
          <button type="button" class="btn btn-primary" routerLink="/device/view/{{device._id}}">View</button>
          <button type="button" class="btn btn-info" routerLink="/device/edit/{{device._id}}">Edit</button>
          <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#deleteModal">Delete</button>

          <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="deleteModalLabel">Delete this device?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    Are you sure?
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="deleteDevice(device)">Confirm</button>
                  </div>
                </div>
              </div>
            </div>
        </td>
      </tr>
    </tbody>
  </table>

  <agm-map
    [latitude]="lat"
    [longitude]="lng"
    [zoom]="zoom"
    [disableDefaultUI]="false"
    [zoomControl]="false"
    (mapClick)="mapClicked($event)">

    <agm-marker
        [latitude]="lat"
        [longitude]="lng"
        [markerDraggable]="true">
    </agm-marker>

    <agm-circle [latitude]="lat + 0.3" [longitude]="lng"
        [radius]="5000"
        [fillColor]="'red'"
        [circleDraggable]="true"
        [editable]="true">
    </agm-circle>

  </agm-map>

</div>
